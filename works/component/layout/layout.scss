/* layout.scss - Nested SCSS Version */

/* --- Fonts & Imports --- */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Tektur:wght@400..900&display=swap');

/* --- Variables --- */
:root {
    --font-tech: 'Orbitron', 'Outfit', 'Noto Sans TC', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    --font-data: 'Roboto', 'Noto Sans TC', sans-serif;

    --color-neon: #008cff;
    --color-neon-2: #00ccff;
    --color-neon-dim: rgba(0, 140, 255, 0.3);

    --bg-panel: rgba(10, 15, 30, 0.7);
    --border-tech: 1px solid var(--color-neon-dim);

    --green-1: #27c93f;
    --red-1: #ff3b30;
}

/* --- Base Styles --- */
body {
    background-color: #020202;
    color: #c0d4eb;
    font-family: 'Noto Sans TC', sans-serif;
    overflow: hidden;
}

p {
    font-weight: 400;
}

.relative {
    position: relative;
}


/* --- Layout Wrappers --- */
.case-content {
    width: 100vw;
    height: 100vh;
    padding-right: 16px;
    padding-left: 16px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    margin-top: -40px;
    overflow: hidden;
}

.case-content-zone {
    max-width: calc(1440px + 1.3rem);
    width: 100%;
    padding: clamp(1rem, 5vw, 2rem);
    outline: 1px solid var(--color-secondary);
    outline-offset: -1px;
    height: calc(100vh - 50px - 100px);
    background: rgba(0, 67, 133, 0.02);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    margin-top: 10px;
    overflow-x: hidden;
    overflow-y: visible;
}

.default-zone {
    width: 100%;
    max-width: 1100px;
    position: relative;
}

.breakout-zone {
    width: 100%;
    max-width: 1400px;
    position: relative;
}

.default-container,
.breakout-container {
    padding: 0 0vw;
    position: relative;
    z-index: 5;
}

/* --- Decoration --- */
.cyber-grid-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-image:
        linear-gradient(var(--color-neon-dim) 1px, transparent 1px),
        linear-gradient(90deg, var(--color-neon-dim) 1px, transparent 1px);
    background-size: 50px 50px;
    opacity: 0.05;
    z-index: -1;
    pointer-events: none;
}

/* --- Hero Section --- */
.cyber-hero {
    min-height: fit-content;
    height: fit-content;
    padding-top: 80px;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    margin-bottom: clamp(120px, 20vw, 300px);

    .hero-decoration {
        font-family: var(--font-tech);
        color: var(--color-neon);
        opacity: 1;
        font-size: 0.8rem;
    }

    .glitch-title {
        font-family: var(--font-tech);
        font-size: clamp(2.4rem, 7vw, 5rem);
        font-weight: 900;
        color: #fff;
        line-height: 122%;
        position: relative;
        text-shadow: 2px 2px 0px rgba(0, 140, 255, 0.5);
        margin-bottom: 10px;
    }

    .sub-glitch {
        font-family: var(--font-tech);
        font-size: clamp(1rem, 2vw, 1.5rem);
        color: var(--color-neon);
        letter-spacing: 0.2em;
        margin-bottom: 60px;
    }

    .hero-grid {
        display: grid;
        grid-template-columns: 1fr 1.5fr;
        gap: 40px;
        align-items: center;
    }

    .hero-intro {
        .initial-text {
            font-family: var(--font-data);
            font-size: .8rem;
            margin-bottom: 10px;
            color: var(--color-neon);
        }

        .tech-text {
            font-family: var(--font-data);
            font-size: 1.1rem;
            line-height: 1.6;
            border-left: 2px solid var(--color-neon);
            padding-left: 20px;
            background: linear-gradient(90deg, rgba(0, 140, 255, 0.05), transparent);
        }
    }
}

/* --- Tech Section Modules --- */
.tech-section {
    margin-bottom: clamp(80px, 18vw, 240px);
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;

    .linking-box {
        position: absolute;
        top: -180px;
    }

    /* Title Zone & Numbers */
    .title-zone {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: clamp(16px, 3vw, 40px);
        position: relative;
        width: 100%;
        z-index: 1;

        .title-container {
            height: fit-content;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: center;
            gap: .4rem;
        }
    }

    .tech-section-number-zone {
        .tech-section-number-container {
            display: flex;
            position: relative;
        }

        .tech-section-number {
            font-family: "Tektur", sans-serif;
            font-weight: 400;
            color: var(--color-neon);
            line-height: 100%;
            display: inline-block;
            transform: skew(-17deg);
            height: fit-content;
        }
    }

    /* Text Components */
    .section-label {
        font-family: var(--font-tech);
        color: var(--color-neon);
        font-size: 0.9rem;
        margin-bottom: -5px;
        opacity: 0.8;
    }

    .tech-heading {
        font-family: var(--font-tech);
        font-size: clamp(2.2rem, 4vw, 3.5rem);
        color: #fff;
        text-transform: uppercase;
        line-height: 125%;
    }
}

/* --- Tech Panel --- */
.tech-panel {
    background: var(--bg-panel);
    border: var(--border-tech);
    backdrop-filter: blur(5px);
    overflow: hidden;
    height: fit-content;

    .panel-header {
        background: rgba(0, 140, 255, 0.1);
        padding: 0px 20px;
        height: 44px;
        border-bottom: var(--border-tech);
        display: flex;
        align-items: center;
        gap: 10px;

        &.warning {
            /* Example for warning state */
        }

        .icon-controller {
            font-size: 1.2rem;
            color: var(--color-neon);
        }

        .panel-title {
            font-family: var(--font-tech);
            font-size: 0.9rem;
            color: var(--color-neon);
        }
    }

    .panel-body {
        padding: clamp(16px, 3vw, 32px);

        .border-left {
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            padding-left: 40px;
        }
    }

    .data-list {
        padding-top: clamp(16px, 3vw, 32px);
        padding-bottom: clamp(16px, 3vw, 32px);
        padding-right: clamp(16px, 3vw, 20px);
        padding-left: 1rem;
    }
}

/* --- Grids & Layouts --- */
.asym-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    align-items: start;
    height: fit-content;
    width: 100%;
}

.panel-left {
    display: grid;
    gap: 1.5rem;
    grid-auto-rows: auto;
}

.split-layout {
    display: grid;
    grid-template-columns: .85fr 1.2fr;
    gap: 30px;
}

.dashboard-layout {
    display: flex;
    flex-direction: column;
    gap: 30px;
}

.flex-row {
    display: flex;
    gap: 40px;
}

.col {
    flex: 1;
}

.column-1 {
    display: grid;
    grid-template-columns: 1fr;
    gap: .75rem;
}

.comparison.img-wrapper {
    //max-width: 900px;
    align-self: center;
    width: 100%;

    .beforeAndAfter {
        .holo-frame {
            padding: 0;
            border: 0;
            padding-top: 10px;
            border-top: 1px solid #333;

            &.video-mode {
                padding: 0;
                border: 0;
                padding-top: 10px;
                border-top: 1px solid #333;
            }
        }
    }

    .virtical {
        &.beforeAndAfter {
            display: grid;
            grid-template-columns: 1fr;
            grid-auto-rows: auto;
            gap: 8px;
            width: 100%;

            .visual-card {
                width: 100%;


            }

            .img-controller {
                max-width: 760px;
            }

            video {
                max-width: 920px;
            }
        }
    }

    .horizontal {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
    }
}

.column-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;



    .img-container {
        height: 100%;
    }
}

/* --- List & Data Items --- */
.data-item {
    display: flex;
    gap: 15px;
    margin-bottom: 25px;
    padding-bottom: 25px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);

    &:last-of-type {
        margin-bottom: 0;
        padding-bottom: 0;
    }

    &.active {
        .data-id {
            color: #fff;
            text-shadow: 0 0 10px var(--color-neon);
        }
    }

    .data-id {
        font-family: var(--font-tech);
        font-size: 0.8rem;
        color: var(--color-neon);
        writing-mode: vertical-rl;
        transform: rotate(180deg);
    }

    .data-content h4 {
        font-size: 1.1rem;
        color: #fff;
        margin-bottom: .75rem;
    }
}

.list-container {
    width: 100%;
    height: fit-content;
    display: flex;
    flex-direction: column;
    gap: 8px;

    .item-box {
        display: grid;
        grid-template-columns: 20px 1fr;
        align-items: flex-start;

        .img-zone {
            grid-column-start: 1;
            grid-column-end: 3;
        }

        .list-container {
            padding-top: 12px;
            padding-left: 20px;
            grid-column-start: 1;
            grid-column-end: 3;
        }
    }

    &:has(.img-zone) {
        gap: 30px;

        .code-visuals {
            margin-top: 12px;
        }
    }

}

.bullet-points {
    &.diamond {
        font-size: .6rem;
        margin-top: 25%;
    }

    &.dot {
        font-size: .6rem;
        margin-top: 25%;
    }

    &.triangle {
        font-size: .65rem;
        margin-top: 30%;
    }

    &.star {
        font-size: .83rem;
        margin-top: 12%;
    }

    &.num {
        font-size: var(--fs-body);
        margin-top: 0;
    }
}

/* --- Terminal Box --- */
.terminal-box {
    background: #000;
    padding: 15px;
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
    border: 1px solid #333;
    margin-top: 20px;

    .cmd {
        color: var(--green-1);
        display: block;
        margin-bottom: 5px;
    }

    .result {
        color: #ccc;
        display: block;
    }
}

/* --- Subtitles & Text --- */
.neon-subtitle {
    color: #fff;
    font-family: var(--font-data);
    font-size: 1.25rem;
    margin-bottom: 12px;
    margin-top: 20px;
}

.list-top-article-content {
    padding-bottom: 1.2rem;
}

/* --- Visuals & Holo Frames --- */
.holo-frame {
    position: relative;
    border: 1px solid var(--color-neon-dim);
    padding: 10px;
    background: rgba(0, 140, 255, 0.02);

    .holo-img {
        width: 100%;
        // display: block;
        // opacity: 0.9;
        // mix-blend-mode: screen;
        // filter: contrast(1.1) brightness(1.1);
    }

    /* Video Mode */



    &.video-mode {
        width: 100%;
        height: fit-content;
        overflow: hidden;
        position: relative;

        //box-shadow: 0 0 20px rgba(0, 140, 255, 0.1);
        //background: rgba(0, 140, 255, 0.15);
        display: flex;
        align-items: center;
        justify-content: center;

        .holo-video {
            width: 100%;
            height: auto;
            display: block;
            object-fit: contain;
            opacity: 1;
        }
    }


}

/* Corners */
.corner {
    position: absolute;
    width: 10px;
    height: 10px;
    border: 2px solid var(--color-neon);
    box-shadow: 0 0 5px var(--color-neon);

    &.c-tl {
        top: -2px;
        left: -2px;
        border-right: none;
        border-bottom: none;
    }

    &.c-tr {
        top: -2px;
        right: -2px;
        border-left: none;
        border-bottom: none;
    }

    &.c-bl {
        bottom: -2px;
        left: -2px;
        border-right: none;
        border-top: none;
    }

    &.c-br {
        bottom: -2px;
        right: -2px;
        border-left: none;
        border-top: none;
    }
}

.img-container {
    &.flex-column {
        flex-direction: column;
        align-items: start;
    }

    width: 100%;
    height: fit-content;
    display: flex;
    align-items: center;
    justify-content: center;

    .img-controller,
    .tech-img {
        width: 100%;
        height: auto;
        object-fit: contain;
    }
}

.visual-card {
    position: relative;
    height: auto;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid #333;
    padding: 10px;
    width: 100%;
    display: grid;
    grid-template-rows: 20px 1fr;
    gap: .5rem;

    &.video-zone {
        .holo-frame {
            padding: 0;

            &.video-mode {
                padding-top: 10px;
                border-top: 1px solid #333;
            }
        }

        .card-video-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    }

    .card-label {
        display: block;
        font-family: var(--font-tech);
        font-size: 0.87rem;
        color: #9b9b9b;
    }
}

.rec-indicator {
    display: flex;
    align-items: center;
    gap: 4px;
    color: var(--green-1);
    text-shadow: 0 0 5px var(--green-1);
    font-size: 0.8rem;
    font-family: var(--font-tech);

    .rec-dot {
        width: 8px;
        height: 8px;
        background-color: var(--green-1);
        border-radius: 50%;
        animation: blink-rec 2s infinite;
    }
}

@keyframes blink-rec {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0;
    }
}

/* --- Analysis & Conflict Matrix --- */
.analysis-zone {
    margin-top: 30px;
    border-top: 1px dashed var(--color-neon-dim);
    padding-top: 20px;
}

.conflict-matrix {
    display: flex;
    gap: 10px;
    margin-top: 15px;

    .matrix-cell {
        flex: 1;
        padding: 15px;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.1);

        &.client {
            border-color: var(--red-1);
        }

        &.reality {
            border-color: var(--color-neon);
        }

        .label {
            font-size: 0.7rem;
            display: block;
            margin-bottom: 5px;
            font-family: var(--font-tech);
        }
    }
}

.tech-list {
    list-style: none;
    padding: 0;

    li {
        margin-bottom: 8px;
        padding-left: 10px;
        border-left: 2px solid var(--color-neon);
    }
}

/* --- IDE Container --- */
.ide-container {
    display: flex;
    border: 1px solid #333;
    background: #0d1117;
    height: 100%;

    .ide-sidebar {
        width: 200px;
        border-right: 1px solid #333;
        padding: 10px;
        font-family: monospace;
        font-size: 0.9rem;
        color: #8b949e;

        .file {
            padding: 5px 10px;
            display: flex;
            align-items: center;
            gap: 8px;

            &.active {
                background: rgba(56, 139, 253, 0.15);
                color: #c9d1d9;
                border-left: 2px solid #58a6ff;
            }
        }
    }

    .ide-content {
        flex: 1;
        padding: 30px;
        overflow: hidden;
    }

    .neon-subtitle {
        margin-top: 40px;
    }

}

.transparent {
    background: transparent;
    border: none;
    backdrop-filter: none;
}

.code-block {
    font-family: 'Consolas', monospace;
    background: #161b22;
    padding: 20px;
    border-radius: 6px;
    color: #e6edf3;
    font-size: 0.95rem;
    margin-bottom: 20px;

    .keyword {
        color: #ff7b72;
    }

    .string {
        color: #a5d6ff;
    }

    .comment {
        color: #8b949e;
    }
}

.step-box {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 4px;
    margin-bottom: 4px;
    margin-left: 1rem;

    .comma {
        color: #e6edf3;
    }
}

.code-visuals {
    margin-top: 30px;
}

.img-box img {
    width: 100%;
    border: 1px solid #333;
}

/* --- Conversation Layout --- */
.conversation-layout {
    position: relative;
    max-width: 1100px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
}

.conversation-zone {
    display: flex;
    flex-direction: column;
    width: 100%;
}

.conversation-container {
    background: rgba(10, 20, 30, 0.7);
    border: 1px solid #444;
    margin-bottom: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    max-width: 82%;
    width: 100%;

    &:nth-child(odd) {
        align-self: flex-start;
    }

    &:nth-child(even) {
        align-self: flex-end;
    }

    &.accent {
        align-self: flex-end;
        border-color: var(--color-neon);


    }

    .conversation-header {
        background: rgba(10, 20, 30, 0.5);
        padding: 10px 15px;
        font-family: var(--font-tech);
        font-size: 0.8rem;
        display: flex;
        align-items: center;
        gap: 8px;
        height: fit-content;

        i {
            font-size: 1.25rem;
        }
    }

    .conversation-body {
        padding: 0 20px 20px 20px;

        .step-box {
            margin-left: 0rem;
        }

        .list-container {
            gap: 0;
        }
    }
}

.tech-ol {
    padding-left: 20px;
    margin-top: 10px;
}

/* --- Conclusion --- */
.conclusion-card {
    position: relative;
    background: linear-gradient(180deg, rgba(0, 140, 255, 0.1), transparent);
    border: 1px solid var(--color-neon);
    padding: 50px;
    text-align: center;
}

.achievement-list {
    list-style: none;
    padding: 0;
    text-align: left;
    max-width: 800px;
    margin: 30px auto 0;

    li {
        display: flex;
        align-items: flex-start;
        gap: 15px;
        margin-bottom: 20px;

        &:last-of-type {
            margin-bottom: 0px;
        }

        i {
            color: var(--color-neon);
            font-size: 1.2rem;
            margin-top: 5px;
        }
    }
}

/* --- Helpers --- */
.swiper {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    align-items: center;

    .swiper-button-prev,
    .swiper-button-next {
        width: 28px;
        height: 28px;
        margin: 0;
        padding: 8px;
        background: linear-gradient(120deg, transparent, rgba(47, 91, 94, 0.68), rgba(63, 134, 193, 0.6), transparent);
        outline: 1px solid rgba(0, 140, 255, 0.5);
        outline-offset: -1px;
        border-radius: 50%;
        backdrop-filter: blur(8px);
        box-shadow: 0 0 4px rgba(0, 140, 255, 0.1), inset 0 0 4px rgba(0, 140, 255, 0.05);
        transition: all 0.3s ease-out;

        &:hover {
            box-shadow: 0 0 8px rgb(82, 218, 255), inset 0 0 8px rgb(0, 140, 255, 0.5);
        }

        svg {
            color: #00ccff;
        }

        &.swiper-button-disabled {
            cursor: auto;
            opacity: 0;

            pointer-events: none;
        }
    }
}

/* ==========================================================================
   â˜… RWD MEDIA QUERIES (Organized at Bottom)
   ========================================================================== */
@media (max-width: 1200px) {}

/* --- 991px (Tablets & Small Laptops) --- */
@media (max-width: 991px) {
    .cyber-hero {
        .glitch-title {
            font-size: clamp(3rem, 7vw, 5rem);
        }

        .hero-grid {
            grid-template-columns: 1fr;
            flex-direction: column;
        }
    }

    .tech-section {
        .linking-box {
            top: -160px;
        }
    }

    .tech-panel {
        .panel-body {
            .border-left {
                border-top: 1px solid rgba(255, 255, 255, 0.1);
                border-left: 0;
                padding-left: 0px;
                padding-top: 10px;
            }
        }
    }

    .asym-grid {
        grid-template-columns: 1fr;
        flex-direction: column;
    }

    .panel-left {
        margin-top: 0;
    }

    .split-layout {
        grid-template-columns: 1fr;
        flex-direction: column;
    }

    .flex-row {
        flex-direction: column;
        grid-template-columns: 1fr;
    }

    .column-2 {
        grid-template-columns: 1fr;
        grid-auto-rows: auto;
        gap: .75rem;

        &.beforeAndAfter {
            grid-template-columns: 1fr;
            grid-auto-rows: auto;
            gap: .75rem;
        }

        .img-container {
            height: fit-content;
        }
    }

    .comparison.img-wrapper .horizontal {
        grid-template-columns: 1fr;
        grid-template-rows: repeat(2, 1fr);
    }

    .bullet-points {
        &.diamond {
            font-size: .6rem;
            margin-top: 29%;
        }

        &.dot {
            font-size: .6rem;
            margin-top: 28%;
        }

        &.triangle {
            font-size: .65rem;
            margin-top: 28%;
        }

        &.star {
            font-size: .83rem;
            margin-top: 16%;
        }
    }

    .visual-side {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: .75rem;
        height: fit-content;


    }

    .ide-container {
        flex-direction: column;

        .ide-sidebar {
            width: 100%;
            display: flex;
            overflow-x: auto;
        }
    }

    .conversation-container.accent {
        margin-left: 20px;
    }

    .ide-content .neon-subtitle.-mt {
        margin-top: 0;
    }

    .data-item {
        margin-bottom: 0;
    }

    .terminal-box {
        margin-top: 0;
    }
}

/* --- 850px --- */
@media (max-width: 850px) {
    .bullet-points {
        &.diamond {
            font-size: .6rem;
            margin-top: 25%;
        }

        &.dot {
            font-size: .6rem;
            margin-top: 28%;
        }

        &.triangle {
            font-size: .65rem;
            margin-top: 25%;
        }

        &.star {
            font-size: .83rem;
            margin-top: 9%;
        }
    }
}

/* --- 768px (Mobile) --- */
@media (max-width: 768px) {
    .tech-section {
        .linking-box {
            top: -120px;
        }
    }

    .bullet-points {
        &.diamond {
            font-size: .6rem;
            margin-top: 15%;
        }

        &.dot {
            font-size: .6rem;
            margin-top: 18%;
        }

        &.triangle {
            font-size: .65rem;
            margin-top: 18%;
        }

        &.star {
            font-size: .83rem;
            margin-top: 4%;
        }
    }

    .neon-subtitle {
        font-size: 18px;
    }
}

/* --- 640px (Small Mobile) --- */
@media (max-width: 640px) {
    .case-content {
        padding-right: 5px;
        padding-left: 5px;
    }

    .case-content-zone {
        padding: 5vw 10px;
    }

    .tech-section {
        .linking-box {
            top: -60px;
        }

        .title-zone {
            gap: 8px;
        }

        .section-label {
            font-size: 11px;
        }

        .tech-heading {
            font-size: 27px;
        }
    }
}

/* --- 480px (Extra Small) --- */
@media (max-width: 480px) {
    .conclusion-card {
        padding: 32px;
    }
}